{% extends 'menuAdministrador.html' %}
{% load static %}
{% block title %} Gestionar Categorías {% endblock %}

{% block content %}

<div class="container my-5 text-white">
  <h2 class="text-center mb-4">Gestionar Categorías</h2>

  <!-- Botón Agregar Categoría -->
  <div class="d-flex justify-content-end mb-3">
    <a href="{% url 'insertar_categoria' %}" class="btn btn-primary" style="background-color: #6C2DC7; border: none;">
      <i class="bi bi-plus-circle me-1"></i> Agregar Categoría
    </a>
  </div>

  <div class="table-responsive">
    <table id="tabla-categorias" class="table table-striped table-bordered bg-white text-dark">
      <thead class="table-secondary text-dark text-center">
        <tr>
          <th class="text-center">ID</th>
          <th class="text-center">Nombre de Categoría</th>
          <th class="text-center">Acciones</th>
        </tr>
      </thead>
      <tbody>
        {% for categoria in categorias %}
        <tr>
            <td class="text-center">{{categoria.id_categoria}}</td>
            <td class="text-center">{{categoria.nombre_categoria}}</td>
            <td class="text-center">
                <a href="{% url 'actualizar_categoria' categoria.id_categoria %}" 
                    class="btn btn-sm me-1 bg-dark text-white" title="Editar">
                    <i class="bi bi-pencil-square"></i>
                </a>
                <a href="#" class="btn btn-sm btn-danger" title="Eliminar">
                    <i class="bi bi-trash-fill"></i>
                </a>
          </td>
            </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>

<div>
        {% if messages %}
          {% for message in messages %}
            <div class="alert alert-{% if message.tags == 'error' %}danger{% else %}{{ message.tags }}{% endif %} alert-dismissible fade show mt-3" role="alert">
              {{ message }}
              <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
          {% endfor %}
        {% endif %}
</div>


<!-- DataTables -->
<link href="https://cdn.datatables.net/1.13.6/css/dataTables.bootstrap5.min.css" rel="stylesheet">
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.13.6/js/dataTables.bootstrap5.min.js"></script>
<script src="{% static 'js/dataTableCategorias.js'%}"></script>

{% endblock %}
